@{
    ViewData["Title"] = "Manage Store";
    int storeId = ViewBag.StoreId;
}

<h2>Manage Store</h2>

<input type="hidden" id="storeId" value="@storeId" />

<!-- Branches Tabs -->
<h3>Branches</h3>
<button type="button" class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#createBranchModal">Add Branch</button>
<ul class="nav nav-tabs" id="branchesTabs" role="tablist"></ul>
<div class="tab-content" id="branchesTabContent"></div>

<!-- Deleted Branches Table -->
<h3>Deleted Branches</h3>
<table id="deletedBranchesTable" class="table table-bordered">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<!-- Rooms Table -->
<h3>Rooms</h3>
<button type="button" class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#createRoomModal">Add Room</button>
<table id="roomsTable" class="table table-bordered">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Has Guest</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<!-- Deleted Rooms Table -->
<h3>Deleted Rooms</h3>
<table id="deletedRoomsTable" class="table table-bordered">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<!-- Deleted Guests Table -->
<h3>Deleted Guests</h3>
<table id="deletedGuestsTable" class="table table-bordered">
    <thead>
        <tr>
            <th>ID</th>
            <th>Username</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<!-- Create Branch Modal -->
<div class="modal fade" id="createBranchModal" tabindex="-1" role="dialog" aria-labelledby="createBranchModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createBranchModalLabel">Create New Branch</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="createBranchForm">
                    <input type="hidden" id="createBranchStoreId" value="@storeId" />
                    <div class="form-group">
                        <label for="branchName">Branch Name</label>
                        <input type="text" class="form-control" id="branchName" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Create</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Edit Branch Modal -->
<div class="modal fade" id="editBranchModal" tabindex="-1" role="dialog" aria-labelledby="editBranchModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editBranchModalLabel">Edit Branch</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="editBranchForm">
                    <input type="hidden" id="editBranchId">
                    <div class="form-group">
                        <label for="editBranchName">Branch Name</label>
                        <input type="text" class="form-control" id="editBranchName" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Update</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Restore Branch Modal -->
<div class="modal fade" id="restoreBranchModal" tabindex="-1" role="dialog" aria-labelledby="restoreBranchModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="restoreBranchModalLabel">Restore Branch</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to restore this branch?</p>
                <input type="hidden" id="restoreBranchId">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" id="confirm-restore-branch-btn">Restore</button>
            </div>
        </div>
    </div>
</div>

<!-- Create Room Modal -->
<div class="modal fade" id="createRoomModal" tabindex="-1" role="dialog" aria-labelledby="createRoomModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createRoomModalLabel">Create New Room</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="createRoomForm">
                    <input type="hidden" id="createRoomBranchId">
                    <div class="form-group">
                        <label for="roomName">Room Name</label>
                        <input type="text" class="form-control" id="roomName" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Create</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Edit Room Modal -->
<div class="modal fade" id="editRoomModal" tabindex="-1" role="dialog" aria-labelledby="editRoomModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editRoomModalLabel">Edit Room</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="editRoomForm">
                    <input type="hidden" id="editRoomId">
                    <div class="form-group">
                        <label for="editRoomName">Room Name</label>
                        <input type="text" class="form-control" id="editRoomName" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Update</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Restore Room Modal -->
<div class="modal fade" id="restoreRoomModal" tabindex="-1" role="dialog" aria-labelledby="restoreRoomModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="restoreRoomModalLabel">Restore Room</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to restore this room?</p>
                <input type="hidden" id="restoreRoomId">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" id="confirm-restore-room-btn">Restore</button>
            </div>
        </div>
    </div>
</div>

<!-- Create Guest Modal -->
<div class="modal fade" id="createGuestModal" tabindex="-1" role="dialog" aria-labelledby="createGuestModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createGuestModalLabel">Create New Guest</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="createGuestForm">
                    <input type="hidden" id="createGuestRoomId">
                    <input type="hidden" id="createGuestStoreId" value="@storeId" />
                    <div class="form-group">
                        <label for="guestUsername">Username</label>
                        <input type="text" class="form-control" id="guestUsername" required>
                    </div>
                    <div class="form-group">
                        <label for="guestPassword">Password</label>
                        <input type="password" class="form-control" id="guestPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Create</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Restore Guest Modal -->
<div class="modal fade" id="restoreGuestModal" tabindex="-1" role="dialog" aria-labelledby="restoreGuestModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="restoreGuestModalLabel">Restore Guest</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to restore this guest?</p>
                <input type="hidden" id="restoreGuestId">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" id="confirm-restore-guest-btn">Restore</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="/js/manageStore.js"></script>
}